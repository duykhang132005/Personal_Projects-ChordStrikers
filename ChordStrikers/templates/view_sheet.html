{% extends "index.html" %}

{% block title %}{{ song.title }} | ChordStrikers{% endblock %}

{% block content %}
<div class="container py-5 text-white">
  <h1 class="mb-3">{{ song.title }}</h1>
  <p class="mb-1"><strong>Artist:</strong> {{ song.artist }}</p>
  <p class="mb-4"><strong>Key:</strong> {{ song.song_key or '—' }}</p>

  {% if song.data_path %}
    <div class="mb-3">
     <a href="{{ url_for('edit_song', sheet_id=song.id) }}" class="btn btn-primary">Edit</a>
    </div>

    {% if sheet_content %}
      <h4 class="mt-4">Preview</h4>
      <pre class="bg-light text-black p-3 rounded"
           style="white-space: pre-wrap; font-family: monospace;">
{{ sheet_content }}
      </pre>
    {% else %}
      <p class="text-warning">No preview available — file could not be read.</p>
    {% endif %}

  {% else %}
    <p class="text-warning">No data file attached for this song yet.</p>
  {% endif %}
</div>
{% endblock %}